# phi <- c()
# dcp <- dcdensC(dcpr, length(phi), 0, 1, phi)
# # LL <- dc.LL(dcpr, length(phi), 0, 1, phi)
# # dc.LL.grad(dcpr, length(phi), 0, 1, phi)
# # plot(dcpr, dcp)
#
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
devtools::load_all(".")
devtools::load_all(".")
phi <- 1
set.seed(2)
tests <- rdc(1000, 1, 0, 1, 1)
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
optim(c(.1), fn = ofn, thetas = thetas, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
devtools::load_all(".")
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
optim(c(.1), fn = ofn, thetas = thetas, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
devtools::load_all(".")
optim(c(.1), fn = ofn, thetas = thetas, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.1), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(5), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(1.5), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
tests <- rdc(1000, 1, 0, 1, .2)
optim(c(1.5), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(1.5), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(1.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
hist(tests)
set.seed(2)
tests <- rdc(1000, 1, 0, 1, .2)
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
optim(c(1.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.1), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.25), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.05), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.05), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.05), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.001), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.1), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
devtools::load_all(".")
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
cMat
cMat(1, 1)
optim(c(.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
devtools::load_all(".")
devtools::load_all(".")
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
dc.LL.grad <- function (thetas, k, mean, sd, phi) {
primGrad <- dcGrad(thetas)
primGrad <- t(primGrad)
densDenom <- sqrt(dcdensC(thetas, k, mean, sd, phi) / dnorm(thetas, mean = mean, sd = sd))
primGrad/densDenom
}
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
phi <- 1
set.seed(2)
tests <- rdc(1000, 1, 0, 1, .2)
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
devtools::load_all(".")
?dcGrad
?ddc
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
tests <- rdc(1000, 1, 0, 1, .2)
?rdc
devtools::load_all(".")
phi <- 1
set.seed(2)
tests <- rdc(1000, 1, 0, 1, .2)
?rdc
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.2), fn = ofn, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6))
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
devtools::load_all(".")
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
devtools::load_all(".")
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
debugonce(dc.LL.grad)
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
primGrad/densDenom
sum(primGrad/densDenom)
sum(log(primGrad/densDenom))
sum(primGrad/densDenom)
devtools::load_all(".")
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
devtools::load_all(".")
debugonce(ogr)
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
debugonce(ogr)
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
dc.LL.grad(thetas, k, mean, sd, phi)
t(dc.LL.grad(thetas, k, mean, sd, phi))
ogr <- function(phi, thetas, k, mean, sd) {
rowSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.1), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
debugonce(ogr)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
dc.LL.grad(thetas, k, mean, sd, phi)
dim(dc.LL.grad(thetas, k, mean, sd, phi))
debugonce(ogr)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
phi
k
ofn
ogr
dc.LL.grad(thetas, k, mean, sd, phi)
length(thetas)
phi
devtools::load_all(".")
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
?ddc
library(davidRian)
?ddc
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS")
phi <- 1
set.seed(2)
tests <- rdc(1000, 1, 0, 1, 30)
tests
hist(tests)
tests <- rdc(1000, 1, 0, 1, 45)
hist(tests)
tests <- rdc(1000, 1, 0, 1, -45)
hist(tests)
tests <- rdc(1000, 1, 0, 1, -55)
hist(tests)
tests <- rdc(1000, 1, 0, 1, -30)
hist(tests)
?optim
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS", lower = -45, upper=45)
tests <- rdc(1000, 2, 0, 1, 14.29, -14.27)
tests <- rdc(1000, 2, 0, 1, c(14.29, -14.27))
hist(tests)
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "BFGS", lower = -45, upper=45)
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B", lower = -45, upper=45)
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "L-BFGS-B", lower = -45, upper=45)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 6), method = "L-BFGS-B")
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 2), method = "L-BFGS-B")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
set.seed(2)
tests <- rdc(1000, 1, 0, 1, -30)
tests <- rdc(1000, 2, 0, 1, c(1.41, 1.49))
plot(tests)
set.seed(2)
tests <- rdc(1000, 2, 0, 1, c(1.41, 1.49))
hist(tests)
tests <- rdc(1000, 2, 0, 1, c(.2, 1.49))
hist(tests)
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
set.seed(2)
tests <- rdc(5000, 3, 0, 1, c(.96, .36, 1.57))
hist(tests)
set.seed(2)
tests <- rdc(5000, 3, 0, 1, c(.96, .36, 1.57))
hist(tests)
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
debugonce(ogr)
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
dc.LL.grad(thetas, k, mean, sd, phi)
debugonce(ogr)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
dc.LL.grad(thetas, k, mean, sd, phi)
devtools::load_all(".")
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
debug(ogr)
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
undebug(ogr)
debug(dc.LL.grad)
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
primGrad
phi
primGrad <- dcGrad(thetas, k, cMat(k, phi), phi)
primGrad
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
primGrad
primGrad <- dcGrad(thetas, k, cMat(k, phi), phi)
primGrad
?dcGrad
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
primGrad
t(primGrad)
dcGrad_(.1, k, cMat(k, phi), phi)
phi
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
debug(dc.LL.grad)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
primGrad
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
debug(dc.LL.grad)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
dcGrad_(.1, k, cMat(k, phi), phi)
t(dcGrad_(.1, k, cMat(k, phi), phi))
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
t(dcGrad_(.1, k, cMat(k, phi), phi))
t(dcGrad_(.1, k, cMat(1, .1), .1))
t(dcGrad_(.1, 1, cMat(1, .1), .1))
dcGrad_(.1, 1, cMat(1, .1), .1)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
undebug(dc.LL.grad)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
devtools::load_all(".")
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
devtools::load_all(".")
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
set.seed(2)
set.seed(2)
tests <- rdc(1000, 2, 0, 1, c(.2, 1.49))
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
set.seed(2)
tests <- rdc(1000, 2, 0, 1, c(.2, 1.49))
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2, .3), fn = ofn, gr = ogr, thetas = tests, k = 3, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
debugonce(dc.LL.grad)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
primGrad
primGrad <- sapply(thetas, function(x) {
dcGrad_(x, k, phi)
})
primGrad
thetas
dcGrad_(1.7, k, phi)
optim(c(.2), fn = ofn, gr = ogr, thetas = tests, k = 1, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
devtools::load_all(".")
debug(dc.Ll.grad)
debug(dc.LL.grad)
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
primGrad
primGrad2 <- dcGrad(thetas, k, phi)
phi
primGrad2 <- dcGrad(thetas, k, c(NA), phi)
primGrad2 <- dcGrad(thetas, k, matrix(NA), phi)
primGrad2
primGrad
primGrad2
primGrad
primGrad == primGrad2
system.time({ primGrad <- sapply(thetas, function(x) {
dcGrad_(x, k, phi)
})
primGrad <- t(primGrad) })
devtools::load_all(".")
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
system.time(optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B"))
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad2(thetas, k, mean, sd, phi))
}
system.time(optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B"))
devtools::load_all(".")
set.seed(2)
tests <- rdc(1000, 2, 0, 1, c(.2, 1.49))
ofn <- function(phi, thetas, k, mean, sd) {
dc.LL(thetas, k, mean, sd, phi)
}
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad2(thetas, k, mean, sd, phi))
}
optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B")
install.packages(microbenchmark)
install.packages("microbenchmark")
library(microbenchmark)
?microbenchmark
microbenchmark(optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B"), times=25)
ogr <- function(phi, thetas, k, mean, sd) {
colSums(dc.LL.grad(thetas, k, mean, sd, phi))
}
microbenchmark(optim(c(.1, .2), fn = ofn, gr = ogr, thetas = tests, k = 2, mean = 0, sd = 1, control = list(fnscale = -1, trace = 1), method = "L-BFGS-B"), times=25)
devtools::load_all(".")
devtools::load_all(".")
?dnorm
devtools::load_all(".")
?rdc
devtools::load_all(".")
?rdc
?davidRian::rdc
??rdc
?rdc
?dnor
?dnorm
R CMD check
R CMD check
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
compileAttributes()
Rcpp::compileAttributes()
devtools::load_all(".")
devtools::load_all(".")
compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
devtools::load_all(".")
Rcpp::compileAttributes()
devtools::load_all(".")
library(davidRian)
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
devtools::load_all(".")
?ddc
devtools::load_all(".")
Rcpp::compileAttributes()
Rcpp::compileAttributes()
library(foreign)
library(lordif)
library(plyr)
library(dplyr)
source("~/Documents/PhD/Analysis/DIF_Samples/DIF_function.R")
data_dir <- "/home/oguzhan/Documents/PhD/Data/"
chi_sq_crit <- list(criterion = "Chisqr")
r2_crit <- list(criterion = "R2",
pseudo.R2 = "McFadden",
R2.change = 0.02)
physfunc.genpop <- read.spss(file.path(data_dir, "PROMIS_PhysFunct_Pop_R_V12NL.sav"), to.data.frame = T)
tmp.col.keep <- c(2, 8:29, 31:45, 47:68, 70:85, 87:109, 122:144) # 30: PFANL1, 46: PFNL3, 69: PFNL5, 86: PFNL4, 110:121 _NL items, 145:147 _NL items
physfunc.genpop <- physfunc.genpop[, tmp.col.keep]
physfunc.genpop$dID <- 1:nrow(physfunc.genpop)
physfunc.genpop$dataset <- "GenPop"
resppat <- tab_resppat(physfunc.genpop, 123, 2:122)
names(physfunc.genpop)
physfunc.genpop <- read.spss(file.path(data_dir, "PROMIS_PhysFunct_Pop_R_V12NL.sav"), to.data.frame = T)
names(physfunc.genpop)
physfunc.genpop <- read.spss(file.path(data_dir, "PROMIS_PhysFunct_Pop_R_V12NL.sav"), to.data.frame = T)
tmp.col.keep <- c(2, 5, 7, 8:29, 31:45, 47:68, 70:85, 87:109, 122:144, 30, 46, 69, 86, 110:121, 145:147) # 30: PFANL1, 46: PFNL3, 69: PFNL5, 86: PFNL4, 110:121 _NL items, 145:147 _NL items
physfunc.genpop <- physfunc.genpop[, tmp.col.keep]
save(physfunc.genpop, "../../phd-docs/Meetings/22-12-17-RCode/Example/physfuncgenpop.Rdata")
save(physfunc.genpop, file = "../../phd-docs/Meetings/22-12-17-RCode/Example/physfuncgenpop.Rdata")
library(foreign)
?foregin
?foreign
?read.spss
write.csv(physfunc.genpop, "../../phd-docs/Meetings/22-12-17-RCode/Example/physfuncgenpop.csv")
setwd("../../phd-docs/Meetings/22-12-17-RCode/Example/")
load("physfuncgenpop.Rdata")
names(physfunc.genpop)
names(physfunc.genpop)
# I created a sample data file for demonstration.
# This can be replaced with any data format (SPSS (.sav), .csv, .dat, etc.).
load("physfuncgenpop.Rdata")
names(physfunc.genpop)
dif_gender <- dif_analyses(physfunc.genpop, 2:147, 1, r2_crit)
dif_gender <- dif_analyses(physfunc.genpop, 2:122, 1, r2_crit)
names(physfunc.genpop)
dif_gender <- dif_analyses(physfunc.genpop, 4:124, 1, r2_crit)
library(foreign)
library(lordif)
library(plyr)
library(dplyr)
source("Example/DIF_function.R")
#### Read data ####
# I created a sample data file for demonstration.
# This can be replaced with any data format (SPSS (.sav), .csv, .dat, etc.).
load("physfuncgenpop.Rdata")
dif_gender <- dif_analyses(data = physfunc.genpop, item_cols = 4:124, group_cols = 1, crit = r2_crit)
dif_gender <- dif_analyses(data = physfunc.genpop[1:250,], item_cols = 4:124, group_cols = 1, crit = r2_crit)
dif_gender <- dif_analyses(data = physfunc.genpop[1:550,], item_cols = 4:124, group_cols = 1, crit = r2_crit)
dif_gender <- dif_analyses(data = physfunc.genpop, item_cols = 4:124, group_cols = 1, crit = r2_crit)
save(dif_gender, "dif_res.Rdata")
save(dif_gender, file="dif_res.Rdata")
load("dif_res.Rdata")
summary(dif_gender$Sex)
print(dif_gender$Sex)
dif_gender$Sex$stats
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
invBMat
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
invBMat
ddc
devtools::load_all(".")
invBMat(3)
devtools::load_all(".")
Rcpp::compileAttributes()
Rcpp::compileAttributes()
devtools::load_all(".")
invBMat(3)
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
Rcpp::compileAttributes()
devtools::load_all(".")
library(davidRian)
invBMat(3)
invBMat(3)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
invBMat(3)
invBMat(4)
devtools::load_all(".")
invBMat(2)
invBMat(3)
devtools::load_all(".")
invBMat(3)
devtools::load_all(".")
invBMat(3)
10395/945
10395*13
devtools::load_all(".")
insZ(c(1,1))
devtools::load_all(".")
devtools::load_all(".")
insZ(c(1,1))
insZ(c(1,5))
insZ(c(2,5))
devtools::load_all(".")
insZ(c(2,5))
insZ(c(2,7))
insZ(c(1,7))
devtools::load_all(".")
insZ(c(1,7))
devtools::load_all(".")
insZ(c(1,7))
devtools::load_all(".")
insZ(c(1,7))
insZ(c(5,7))
devtools::load_all(".")
insZ(c(5,7))
devtools::load_all(".")
insZ(c(5,7))
devtools::load_all(".")
insZ(c(5,7))
devtools::load_all(".")
insZ(c(5,7))
devtools::load_all(".")
insZ(c(5,7))
insZ(c(5,7,9))
